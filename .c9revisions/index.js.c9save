{"ts":1349289121676,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1349289124098,"patch":[[{"diffs":[[1,"var server = require(\"./server\"),\r\n    router = require(\"./router\"),\r\n    requestHandlers = require(\"./requestHandlers\"),\r\n    util = require(\"util\");\r\n    \r\nvar intialized = false;\r\n\r\n//register routes\r\nvar handle = {};\r\n\r\n(function registerInitialRoutes(){\r\n    if(!isHandle(\"/\")) {\r\n        addToHandle(\"/\", requestHandlers.main);\r\n    }\r\n    if(!isHandle(\"/draw\")) {\r\n        addToHandle(\"/draw\", requestHandlers.draw);\r\n    }\r\n    \r\n    if(!isHandle(\"/save\")) {\r\n        addToHandle(\"/save\", requestHandlers.save);\r\n    }\r\n    \r\n    if(!isHandle(\"/saved\")) {\r\n        addToHandle(\"/saved/\", requestHandlers.openSaved);\r\n    }\r\n    \r\n    if(!isHandle(\"/test.html\")) {\r\n        addToHandle(\"/test.html\", function(response){requestHandlers.staticFile(\"./Static_Pages/Test.html\",\"text/html\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/mainPage.js\")) {\r\n        addToHandle(\"/scripts/mainPage.js\", function(response){requestHandlers.staticFile(\"./Scripts/mainPage.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/canvasDraw.js\")) {\r\n        addToHandle(\"/scripts/canvasDraw.js\", function(response){requestHandlers.staticFile(\"./Scripts/canvasDraw.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/ajax.js\")) {\r\n        addToHandle(\"/scripts/ajax.js\", function(response){requestHandlers.staticFile(\"./Scripts/ajax.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/randomBackground.js\")) {\r\n        addToHandle(\"/scripts/randomBackground.js\", function(response){requestHandlers.staticFile(\"./Scripts/randomBackground.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/styles/canvasDraw.css\")) {\r\n        addToHandle(\"/styles/canvasDraw.css\", function(response){requestHandlers.staticFile(\"./CSS/canvasDraw.css\",\"text/css\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/styles/MainPage.css\")) {\r\n        addToHandle(\"/styles/MainPage.css\", function(response){requestHandlers.staticFile(\"./CSS/MainPage.css\",\"text/css\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/saved/styles/canvasDraw.css\")) {\r\n        addToHandle(\"/saved/styles/canvasDraw.css\", function(response){requestHandlers.staticFile(\"./CSS/canvasDraw.css\",\"text/css\",response);});\r\n    }\r\n\r\n})();\r\n\r\nserver.start(router.route, handle);\r\nintialized = true;\r\n\r\nfunction addToHandle(key, funcRoute)\r\n{\r\n    handle[key] = funcRoute;\r\n    \r\n}\r\n\r\nfunction isHandle(pathToCheck)\r\n{\r\n    util.log(\"check path:\" + pathToCheck);\r\n    return(typeof handle[pathToCheck] === 'function');\r\n}\r\n\r\n\r\nexports.isHandle = isHandle;\r\nexports.addToHandle = addToHandle;"]],"start1":0,"start2":0,"length1":0,"length2":2619}]],"length":2619,"saved":false}
{"ts":1349289240451,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"//register routes"],[1,""],[0,"\r\nva"]],"start1":181,"start2":181,"length1":25,"length2":8},{"diffs":[[0,"\r\n\r\n"],[-1,"(function registerInitialRoutes(){\r\n    if(!isHandle(\"/\")) {\r\n        addToHandle(\"/\", requestHandlers.main);\r\n    }\r\n    if(!isHandle(\"/draw\")) {\r\n        addToHandle(\"/draw\", requestHandlers.draw);\r\n    }\r\n    \r\n    if(!isHandle(\"/save\")) {\r\n        addToHandle(\"/save\", requestHandlers.save);\r\n"],[1,"/************************************************************\r\n * Register routes here          "],[0,"    "],[-1,"}\r\n"],[0,"    "],[-1,"\r\n"],[0,"    "],[-1,"if(!isHandle(\"/saved\")) {\r\n        addToHandle(\"/saved/\", requestHandlers.openSaved);\r\n    }\r\n"],[1,"           "],[0,"    "],[1,"*"],[0,"\r\n "],[-1,"   if(!isHandle(\"/test.html\")) {\r\n        addToHandle(\"/test.html\", function(response){requestHandlers.staticFile(\"./Static_Pages/Test.html\",\"text/html\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/mainPage.js\")) {\r\n        addToHandle(\"/scripts/mainPage.js\", function(response){requestHandlers.staticFile(\"./Scripts/mainPage.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/canvasDraw.js\")) {\r\n        addToHandle(\"/scripts/canvasDraw.js\", function(response){requestHandlers.staticFile(\"./Scripts/canvasDraw.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/ajax.js\")) {\r\n        addToHandle(\"/scripts/ajax.js\", function(response){requestHandlers.staticFile(\"./Scripts/ajax.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/scripts/randomBackground.js\")) {\r\n        addToHandle(\"/scripts/randomBackground.js\", function(response){requestHandlers.staticFile(\"./Scripts/randomBackground.js\",\"text/javascript\",response);});\r\n    }\r\n"],[1,"* use \"isHandle\" to check if route is already registered   *\r\n * otherwise add it to the list of handles.             "],[0,"    "],[1,"*"],[0,"\r\n "],[-1,"   if(!isHandle(\"/styles/canvasDraw.css\")) {\r\n        addToHandle(\"/styles/canvasDraw.css\", function(response){requestHandlers.staticFile(\"./CSS/canvasDraw.css\",\"text/css\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/styles/MainPage.css\")) {\r\n        addToHandle(\"/styles/MainPage.css\", function(response){requestHandlers.staticFile(\"./CSS/MainPage.css\",\"text/css\",response);});\r\n    }\r\n    \r\n    if(!isHandle(\"/saved/styles/canvasDraw.css\")) {\r\n        addToHandle(\"/saved/styles/canvasDraw.css\", function(response){requestHandlers.staticFile(\"./CSS/canvasDraw.css\",\"text/css\",response);}"],[1,"* *********************************************************/\r\n(function registerInitialRoutes(){\r\n    if(!isHandle(\"/\")) {\r\n        addToHandle(\"/\", requestHandlers.main"],[0,");\r\n"]],"start1":203,"start2":203,"length1":2034,"length2":430},{"diffs":[[0,"\n    }\r\n"],[-1,"\r\n"],[0,"})();\r\n\r"]],"start1":632,"start2":632,"length1":18,"length2":16},{"diffs":[[0,")();\r\n\r\n"],[1,"\r\n"],[0,"server.s"]],"start1":641,"start2":641,"length1":16,"length2":18}]],"length":998,"saved":false}
{"ts":1349289244868,"patch":[[{"diffs":[[0,"********"],[1,"*"],[0,"/\r\n(func"]],"start1":511,"start2":511,"length1":16,"length2":17}]],"length":999,"saved":false}
{"ts":1349289293513,"patch":[[{"diffs":[[0,"tes(){\r\n"],[1,"    \r\n    //Served with wrappers created by request handlers. \r\n"],[0,"    if(!"]],"start1":551,"start2":551,"length1":16,"length2":80},{"diffs":[[0,"\n    }\r\n"],[1,"    \r\n    //Static Files.\r\n    if(!isHandle(\"/test.html\")) {\r\n        addToHandle(\"/test.html\", function(response){requestHandlers.staticFile(\"./Static_Pages/Test.html\",\"text/html\",response);});\r\n    }\r\n"],[0,"})();\r\n\r"]],"start1":697,"start2":697,"length1":16,"length2":219}]],"length":1266,"saved":false}
{"ts":1349289324596,"patch":[[{"diffs":[[0,")();\r\n\r\n"],[1,"/************************************************************\r\n * Start the Server                                         *\r\n ************************************************************/"],[0,"\r\nserver"]],"start1":909,"start2":909,"length1":16,"length2":204}]],"length":1454,"saved":false}
{"ts":1349289474189,"patch":[[{"diffs":[[0,"til\");\r\n"],[-1,"    "],[1,"\r\n//State Variable for tracking initialization"],[0,"\r\nvar in"]],"start1":144,"start2":144,"length1":20,"length2":62},{"diffs":[[0," = true;\r\n\r\n"],[1,"\r\n\r\n/************************************************************\r\n * Functions                                                *\r\n * This are provided and exported - so that routes can be   *\r\n * checked and registered from elsewhere                    *\r\n ************************************************************/\r\n"],[0,"function add"]],"start1":1196,"start2":1196,"length1":24,"length2":344},{"diffs":[[0,"e;\r\n    "],[1,"util.log(\"added \" + key + \" as route\");"],[0,"\r\n}\r\n\r\nf"]],"start1":1595,"start2":1595,"length1":16,"length2":55}]],"length":1855,"saved":false}
{"ts":1349289478149,"patch":[[{"diffs":[[0,";\r\n}\r\n\r\n"],[-1,"\r\n"],[0,"exports."]],"start1":1781,"start2":1781,"length1":18,"length2":16}]],"length":1853,"saved":false}
{"ts":1349289580228,"patch":[[{"diffs":[[0,"\r\n\r\nvar "],[-1,"handle"],[1,"routes"],[0," = {};\r\n"]],"start1":225,"start2":225,"length1":22,"length2":22},{"diffs":[[0,"\r\n    if(!is"],[-1,"Handl"],[1,"Rout"],[0,"e(\"/\")) {\r\n "]],"start1":663,"start2":663,"length1":29,"length2":28},{"diffs":[[0,"   addTo"],[-1,"Handle"],[1,"Routes"],[0,"(\"/\", re"]],"start1":695,"start2":695,"length1":22,"length2":22},{"diffs":[[0,"  if(!is"],[-1,"Handl"],[1,"Rout"],[0,"e(\"/test"]],"start1":775,"start2":775,"length1":21,"length2":20},{"diffs":[[0,"   addTo"],[-1,"Handle"],[1,"Routes"],[0,"(\"/test."]],"start1":812,"start2":812,"length1":22,"length2":22},{"diffs":[[0,".route, "],[-1,"handle"],[1,"routes"],[0,");\r\ninti"]],"start1":1166,"start2":1166,"length1":22,"length2":22},{"diffs":[[0,"\n * "],[-1,"Functions                "],[1,"Route Management Functions"],[0,"    "]],"start1":1272,"start2":1272,"length1":33,"length2":34},{"diffs":[[0,"on addTo"],[-1,"Handle"],[1,"Routes"],[0,"(key, fu"]],"start1":1533,"start2":1533,"length1":22,"length2":22},{"diffs":[[0,"\n{\r\n    "],[-1,"handle"],[1,"routes"],[0,"[key] = "]],"start1":1564,"start2":1564,"length1":22,"length2":22},{"diffs":[[0,"ction is"],[-1,"Handl"],[1,"Rout"],[0,"e(pathTo"]],"start1":1651,"start2":1651,"length1":21,"length2":20},{"diffs":[[0,"(typeof "],[-1,"handle"],[1,"routes"],[0,"[pathToC"]],"start1":1736,"start2":1736,"length1":22,"length2":22},{"diffs":[[0,"s.is"],[-1,"Handle = isHandl"],[1,"Routes = isRout"],[0,"e;\r\n"]],"start1":1793,"start2":1793,"length1":24,"length2":23},{"diffs":[[0,"ddTo"],[-1,"Handle"],[1,"Routes"],[0," = addTo"],[-1,"Handle"],[1,"Routes"],[0,";"]],"start1":1825,"start2":1825,"length1":25,"length2":25}]],"length":1850,"saved":false}
{"ts":1349289814925,"patch":[[{"diffs":[[1,"/************************************************************\r\n *                         INDEX.js                         *\r\n *----------------------------------------------------------*\r\n * Author:                                                  *\r\n * Writen by Christopher Webster on Oct. 3rd 2012           *\r\n *----------------------------------------------------------*\r\n * Purpose:                                                 *\r\n * This is the first file to run.                           *\r\n * The purpose of this code is to:                          *\r\n *  a)register initial routes                               *\r\n *  b)launch the server                                     *\r\n *  c)expose basic functions for adding and checking routes *\r\n * **********************************************************/\r\n \r\n"],[0,"var server ="]],"start1":0,"start2":0,"length1":12,"length2":835}]],"length":2673,"saved":false}
{"contributors":[],"silentsave":false,"ts":1349289858907,"patch":[[{"diffs":[[0,"Author: "],[1,"Christopher Webster"],[0,"        "]],"start1":192,"start2":192,"length1":16,"length2":35},{"diffs":[[0,"    "],[-1,"                   *\r\n * Writen by Christopher Webster on Oct. 3rd 2012"],[1,"*\r\n * Date:   Oct. 3rd 2012                         "],[0,"    "]],"start1":245,"start2":245,"length1":79,"length2":60}]],"length":2673,"saved":false}
{"ts":1349290022339,"patch":[[{"diffs":[[0," * A"],[-1,"uthor"],[1,"UTHOR"],[0,": Ch"]],"start1":189,"start2":189,"length1":13,"length2":13},{"diffs":[[0," *\r\n * D"],[-1,"ate"],[1,"ATE"],[0,":   Oct."]],"start1":248,"start2":248,"length1":19,"length2":19},{"diffs":[[0,"-*\r\n * P"],[-1,"urpose"],[1,"URPOSE"],[0,":       "]],"start1":374,"start2":374,"length1":22,"length2":22},{"diffs":[[0,"g routes"],[-1,""],[0,""],[1," *\r\n *                                                          *\r\n *----------------------------------------------------------*\r\n * NOTES:                                                   *\r\n *   none                                                   *\r\n *                                                          *\r\n *----------------------------------------------------------*   \r\n * CHANGES:                                                 *\r\n *      DATE:                                               *\r\n *      CHANGE:                                            "],[0," *\r\n * *"]],"start1":744,"start2":744,"length1":16,"length2":586}]],"length":3243,"saved":false}
{"ts":1349290981799,"patch":[[{"diffs":[[0,"   }\r\n    \r\n"],[1,"    if(!isRoute(\"/styles/site.css\")) {\r\n        addToRoutes(\"/styles/site.css\", requestHandlers.main);\r\n    }\r\n    \r\n    \r\n    \r\n"],[0,"    //Static"]],"start1":2133,"start2":2133,"length1":24,"length2":153},{"diffs":[[0,"\n    }\r\n"],[1,"    \r\n    if(!isRoute(\"/styles/site.css\")) {\r\n        addToRoutes(\"/styles/site.css\", function(response){requestHandlers.staticFile(\"./styles/site.css\",\"text/html\",response);});\r\n    }\r\n"],[0,"})();\r\n\r"]],"start1":2462,"start2":2462,"length1":16,"length2":202}]],"length":3558,"saved":false}
{"ts":1349290990214,"patch":[[{"diffs":[[0,"   }"],[-1,"\r\n    \r\n    if(!isRoute(\"/styles/site.css\")) {\r\n        addToRoutes(\"/styles/site.css\", requestHandlers.main);\r\n    }\r\n    \r\n"],[0,"    "]],"start1":2133,"start2":2133,"length1":133,"length2":8},{"diffs":[[0,"\n    }\r\n"],[1,"    \r\n"],[0,"})();\r\n\r"]],"start1":2523,"start2":2523,"length1":16,"length2":22}]],"length":3439,"saved":false}
{"ts":1349291113232,"patch":[[{"diffs":[[0,"Route(\"/"],[-1,"t"],[1,"staticT"],[0,"est.html"]],"start1":2180,"start2":2180,"length1":17,"length2":23},{"diffs":[[0,"outes(\"/"],[-1,"t"],[1,"staticT"],[0,"est.html"]],"start1":2224,"start2":2224,"length1":17,"length2":23},{"diffs":[[0,"(\"./"],[-1,"S"],[1,"s"],[0,"tatic_"],[-1,"P"],[1,"p"],[0,"ages/"],[1,"static"],[0,"Test"]],"start1":2295,"start2":2295,"length1":21,"length2":27}]],"length":3457,"saved":false}
{"ts":1349291141547,"patch":[[{"diffs":[[0,"site.css\",\"text/"],[-1,"html"],[1,"css"],[0,"\",response);});\r"]],"start1":2505,"start2":2505,"length1":36,"length2":35}]],"length":3456,"saved":false}
{"ts":1349291693213,"patch":[[{"diffs":[[0,"\r\n    \r\n"],[1,"    if(!isRoute(\"/scripts/main.js\")) {\r\n        addToRoutes(\"/scripts/main.js\", function(response){requestHandlers.staticFile(\"./scripts/main.js\",\"text/javascript\",response);});\r\n    }\r\n    \r\n"],[0,"})();\r\n\r"]],"start1":2546,"start2":2546,"length1":16,"length2":208}]],"length":3648,"saved":false}
